{
  "db": "PostgreSQL",
  "931b1b6b998305b63f9aa3ca1d391d19678e31f28b42f6ebb08496f16d09083b": {
    "query": "INSERT INTO map_visualization (\n                dataset,\n                map_type,\n                subcategory,\n                name,\n                legend_ticks,\n                color_palette,\n                reverse_scale,\n                invert_normalized,\n                scale_type,\n                show_pdf,\n                default_start_date,\n                default_end_date,\n                default_source,\n                formatter_type,\n                legend_formatter_type,\n                decimals,\n                legend_decimals,\n                color_domain,\n                pdf_domain)\n            VALUES (\n                $1,\n                $2,\n                $3,\n                $4,\n                $5,\n                $6,\n                $7,\n                $8,\n                $9,\n                $10,\n                $11,\n                $12,\n                $13,\n                $14,\n                $15,\n                $16,\n                $17,\n                $18,\n                $19)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4",
          "Int4",
          "Varchar",
          "Int2",
          "Int4",
          "Bool",
          "Bool",
          "Int4",
          "Bool",
          "Date",
          "Date",
          "Int4",
          "Int4",
          "Int4",
          "Int2",
          "Int2",
          "Float8Array",
          "Float8Array"
        ]
      },
      "nullable": []
    }
  },
  "9d1cb3fb3c326c09eebf76607413fc0c57e74b38195aacb20072bc4e313c2b60": {
    "query": "\n        SELECT\n            entry.dataset as \"dataset!\",\n            entry.dataset_name as \"dataset_name!\",\n            entry.source as \"source!\",\n            entry.start_date as \"start_date!\",\n            entry.end_date as \"end_date!\",\n            (\n                SELECT\n                    \"value\"\n                FROM\n                    county_data\n                WHERE\n                    state_id = $1\n                    AND county_id = $2\n                    AND dataset = entry.dataset\n                    AND source = entry.source\n                    AND start_date = entry.start_date\n                    AND end_date = entry.end_date\n            ),\n            percent_rank(\n                (\n                    SELECT\n                        \"value\"\n                    FROM\n                        county_data\n                    WHERE\n                        state_id = $1\n                        AND county_id = $2\n                        AND dataset = entry.dataset\n                        AND source = entry.source\n                        AND start_date = entry.start_date\n                        AND end_date = entry.end_date\n                )\n            ) within GROUP (\n                ORDER BY\n                    \"value\"\n            )\n        FROM\n            county_data,\n            (\n                SELECT\n                    map_visualization.dataset,\n                    dataset.name as dataset_name,\n                    COALESCE(default_source, source) AS source,\n                    COALESCE(default_start_date, start_date) AS start_date,\n                    COALESCE(default_end_date, end_date) AS end_date,\n                    invert_normalized\n                FROM\n                    map_visualization,\n                    map_visualization_collection,\n                    dataset,\n                    (\n                        SELECT\n                            dataset,\n                            MAX(end_date) AS end_date,\n                            MAX(start_date) AS start_date,\n                            MAX(\"source\") AS source\n                        FROM\n                            county_data\n                        GROUP BY\n                            dataset\n                    ) AS cd\n                WHERE\n                    map_visualization_collection.category = $3\n                    AND map_visualization.dataset = dataset.id\n                    AND cd.dataset = map_visualization.dataset\n                    AND map_visualization_collection.map_visualization = map_visualization.id\n            ) AS entry\n        WHERE\n            county_data.dataset = entry.dataset\n            AND county_data.source = entry.source\n            AND county_data.start_date = entry.start_date\n            AND county_data.end_date = entry.end_date\n        GROUP BY\n            entry.dataset,\n            entry.dataset_name,\n            entry.source,\n            entry.start_date,\n            entry.end_date;\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "dataset!",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "dataset_name!",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "source!",
          "type_info": "Int4"
        },
        {
          "ordinal": 3,
          "name": "start_date!",
          "type_info": "Date"
        },
        {
          "ordinal": 4,
          "name": "end_date!",
          "type_info": "Date"
        },
        {
          "ordinal": 5,
          "name": "value",
          "type_info": "Float8"
        },
        {
          "ordinal": 6,
          "name": "percent_rank",
          "type_info": "Float8"
        }
      ],
      "parameters": {
        "Left": [
          "Int2",
          "Int2",
          "Int4"
        ]
      },
      "nullable": [
        false,
        false,
        null,
        null,
        null,
        null,
        null
      ]
    }
  },
  "c55cb8c4cc212811ca366692b0ac7f8ab2463bc9ffb4a34042e11a12c269c6e1": {
    "query": "UPDATE map_visualization\n            SET dataset = $1,\n                map_type = $2,\n                subcategory = $3,\n                name = $4,\n                legend_ticks = $5,\n                color_palette = $6,\n                reverse_scale = $7,\n                invert_normalized = $8,\n                scale_type = $9,\n                show_pdf = $10,\n                default_start_date = $11,\n                default_end_date = $12,\n                default_source = $13,\n                formatter_type = $14,\n                legend_formatter_type = $15,\n                decimals = $16,\n                legend_decimals = $17,\n                color_domain = $18,\n                pdf_domain = $19\n            WHERE id = $20",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4",
          "Int4",
          "Varchar",
          "Int2",
          "Int4",
          "Bool",
          "Bool",
          "Int4",
          "Bool",
          "Date",
          "Date",
          "Int4",
          "Int4",
          "Int4",
          "Int2",
          "Int2",
          "Float8Array",
          "Float8Array",
          "Int4"
        ]
      },
      "nullable": []
    }
  }
}